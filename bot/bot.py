"""
☁️ Cloud Supply - Telegram Bot для продажи одноразовых вейпов

Entry Point для запуска бота
Запуск: python bot.py

Структура проекта:
- bot.py - точка входа (этот файл)
- core/ - основной код бота
  ├── core.py - инициализация и запуск
  ├── .env - конфигурация (токен, админ)
  ├── db/ - база данных
  │   ├── models.py - модели SQLAlchemy
  │   ├── database.py - подключение к БД
  │   ├── crud.py - CRUD операции
  │   └── cloud_supply.db - файл БД (создается автоматически)
  ├── handlers/ - обработчики событий
  │   ├── user.py - пользовательские handlers
  │   └── admin.py - админ-панель
  ├── keyboards/ - клавиатуры
  │   └── inline.py - inline кнопки
  ├── states/ - FSM состояния
  │   └── user_states.py - состояния диалогов
  └── photo/ - изображения для бота
      ├── welcome.jpg - приветственная картинка
      └── model_*.jpg - картинки моделей

Функционал:
✅ Каталог товаров (модели и вкусы)
✅ Корзина с управлением
✅ Оформление заказов (hand-to-hand доставка)
✅ Просмотр заказов и статусов
✅ Поддержка пользователей
✅ Админ-панель (управление товарами, заказами, пользователями)
✅ Статистика продаж (выручка, прибыль, топ товаров)
✅ Бэкап базы данных

Перед запуском:
1. Создайте бота через @BotFather (см. HOW_TO_CREATE_BOT.md)
2. Заполните core/.env файл:
   - TELEGRAM_API_TOKEN=ваш_токен
   - ADMIN_USERNAME=твой_username_без_@
   - SUPPORT_USERNAME=cloud_supplier
3. Добавьте изображения в core/photo/ (welcome.jpg для приветствия)
4. Запустите: python bot.py

Разработано для Cloud Supply ☁️

===== ПРОМПТ НИЖЕ (для истории) =====

Важно: пожалуйста, проверяй анотации и промпты в .py файлах!

Телеграм бот по продаже одноразовых вейпов
Главная задача сделать грамотную страницу выбора вкусов, то есть будет титульная страница/меню:
на ней будет 1. начать
потом появляется основное меню с выбором:
- выбрать модель (открывается страница с выбором моделей, потом при выборе модели открываются вкусы (показываются только доступные вкусы для этой модели), потом при выборе вкуса предлагается выбрать кол-во и добавить в корзину)
- посмотреть корзину (показывается список добавленных товаров с возможностью удалить товар или изменить кол-во, а также кнопка оформить заказ) !!! ДОСТАВКА пока под вопросом, либо личный хэнд дил, либо пакоматы, насчет оплаты думаем крипта (USDC/TRX/может еще какие то распрастраненные), либо stripe
    Доставка:
    - пакоматы (пользователь вводит необходимые для доставки данные (посмотри условия пакоматов в Латвии (по типу омнивы и других))), оплачивает как я писал через крипту или стрип (но он пока под вопросом)
    - хэнд дил (пользователь договаривается с курьером о встрече, вводит свои данные для связи (хотя скорее я просто его тг никнейм беру)
     /// скорее всего будем юзать хэнд дил, там просто будем связываться по нику телеги
- посмотреть статус заказа (пользователь видит инфу о заказе и статус: принят, передан в доставку)
- связаться с поддержкой (открывается чат с поддержкой)

Админ панель:
- посмотреть заказы (список заказов с возможностью изменить статус заказа)
- управлять товарами (добавить/удалить/изменить модель, вкус, доступность, цену)
- управлять пользователями (просмотр юзеров, бан/разбан)
- посмотреть статистику продаж (графики и цифры по продажам за определенный период)
- настроить бота (изменить приветственное сообщение, кнопки меню и тд)
- бэкап базы данных (скачать резервную копию базы данных)

Так же важно! У бота должна быть приветственая картинка и в начале что-то типа /start для открытия меню (где уже выбирается модель и т.д.), так же при выборе модели и открытии ее вкусов идет картинка модели сверху.
Структурно я хочу это так по файлам было так (примерно, будет обновляться):

core folder (bot):
- bot.py (entry point)
- folder with core bot files (core):
    - core.py (main bot logic, handlers, etc.)
    - db folder (database related files):
        - models.py (database models: Product, User, Order)
        - {NAME}.db (sqlite database file)
        - maybe additional, update if neccessary // короче тут уже обновишь
    - .env (for bot token and other secrets)
    - photo folder (for storing images used in the bot)

Название шопа: Cloud Supply

"""

from core.core import run

if __name__ == '__main__':
    print("=" * 50)
    print("☁️ Cloud Supply Bot Starting...")
    print("=" * 50)
    run()